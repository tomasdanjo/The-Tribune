<div id="sidebar" class="hidden">
  <div id="sidebar-content">
    <p>put some contents here</p>
      {% if user.is_authenticated %}
      <div class="mb-4">
          <form method="POST" action="{% url 'logout' %}">
              {% csrf_token %}
              <button type="submit" class="px-4 py-2 bg-red-600 text-white font-bold py-2 px-4 rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500">
                  Log out
              </button>
          </form>
      </div>
      {% endif %}
  </div>
</div>

<script>
  function openSidebar() {
  const sidebar = document.getElementById('sidebar');
  const popupContent = document.getElementById('sidebar-content');
  
  sidebar.classList.remove('hidden');
  sidebar.style.display = 'block';
  
  // Trigger reflow to ensure animation works
  popupContent.offsetWidth;
  
  popupContent.style.transform = 'translateX(0)';
}

document.getElementById('sidebar').addEventListener('click', function(event) {
  const sidebar = this;
  const popupContent = document.getElementById('sidebar-content');
  
  // Close sidebar if clicked outside the popup content
  if (event.target === sidebar) {
      popupContent.style.transform = 'translateX(-100%)';
      
      // Wait for animation to complete before hiding
      setTimeout(() => {
          sidebar.classList.add('hidden');
          sidebar.style.display = 'none';
      }, 300);
  }
});
</script>